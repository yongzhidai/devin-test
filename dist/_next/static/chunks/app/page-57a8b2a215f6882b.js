(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4132:function(n,e,r){Promise.resolve().then(r.bind(r,6039))},6039:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var t=r(2265),i=r(4033),u=r(8228);function o(){let n=(0,i.useRouter)(),{isAuthenticated:e}=(0,u.t)();return(0,t.useEffect)(()=>{e?n.replace("/management"):n.replace("/login")},[e,n]),null}},8228:function(n,e,r){"use strict";r.d(e,{t:function(){return u}});var t=r(4660),i=r(4810);let u=(0,t.Ue)()((0,i.tJ)(n=>({isAuthenticated:!1,username:null,isLoading:!1,error:null,login:async(e,r)=>{n({isLoading:!0,error:null});try{if(e&&r)return n({isAuthenticated:!0,username:e,isLoading:!1}),!0;return n({error:"无效的用户名或密码",isLoading:!1}),!1}catch(e){return console.error("Login failed:",e),n({error:"登录失败，请重试",isLoading:!1}),!1}},logout:()=>{n({isAuthenticated:!1,username:null,error:null})},setLoading:e=>n({isLoading:e}),setError:e=>n({error:e})}),{name:"auth-storage",skipHydration:!1}))}},function(n){n.O(0,[3,971,938,744],function(){return n(n.s=4132)}),_N_E=n.O()}]);