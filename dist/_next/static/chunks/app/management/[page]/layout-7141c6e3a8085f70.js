(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{9735:function(e,t,n){Promise.resolve().then(n.bind(n,8870))},8870:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(7437);n(2265);var r=n(4222);function l(e){let{children:t}=e;return(0,s.jsx)(r.Z,{children:t})}},4222:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var s=n(7437),r=n(2265),l=n(4440),i=n(190),a=n(747),o=n(2372),c=n(7358),u=n(3582),d=n(7297),h=n(4033),x=n(8228);let{Header:g,Sider:f,Content:m}=l.default,b=[{key:"dashboard",icon:(0,s.jsx)(a.Z,{}),label:"仪表盘",children:[{key:"analysis",label:"分析页"},{key:"monitor",label:"监控页"}]},{key:"user",icon:(0,s.jsx)(o.Z,{}),label:"用户管理",children:[{key:"user-list",label:"用户列表"},{key:"user-groups",label:"用户组"}]},{key:"settings",icon:(0,s.jsx)(c.Z,{}),label:"系统设置",children:[{key:"general",label:"基本设置"},{key:"security",label:"安全设置"}]}];function j(e){let{children:t}=e,[n,a]=(0,r.useState)(!1),o=(0,h.useRouter)(),{username:c,logout:j}=(0,x.t)();return(0,s.jsxs)(l.default,{style:{minHeight:"100vh"},children:[(0,s.jsxs)(f,{trigger:null,collapsible:!0,collapsed:n,children:[(0,s.jsx)("div",{className:"p-4 h-16 flex items-center justify-center bg-white/10",children:(0,s.jsx)("h1",{className:"text-white text-lg font-bold truncate",children:n?"管理":"管理系统"})}),(0,s.jsx)(i.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["dashboard"],items:b,onClick:e=>{let{key:t}=e;"dashboard"===t?o.push("/management"):o.push("/management/".concat(t))}})]}),(0,s.jsxs)(l.default,{children:[(0,s.jsxs)(g,{className:"bg-white px-4 flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>{a(!n)},className:"text-lg hover:text-blue-500 transition-colors",children:n?(0,s.jsx)(u.Z,{}):(0,s.jsx)(d.Z,{})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{children:["欢迎, ",c]}),(0,s.jsx)("button",{onClick:()=>{j(),o.replace("/login")},className:"text-red-500 hover:text-red-600 transition-colors",children:"退出"})]})]}),(0,s.jsx)(m,{className:"m-6 p-6 bg-white rounded-lg min-h-[280px]",children:t})]})]})}},8228:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var s=n(4660),r=n(4810);let l=(0,s.Ue)()((0,r.tJ)(e=>({isAuthenticated:!1,username:null,isLoading:!1,error:null,login:async(t,n)=>{e({isLoading:!0,error:null});try{if(t&&n)return e({isAuthenticated:!0,username:t,isLoading:!1}),!0;return e({error:"无效的用户名或密码",isLoading:!1}),!1}catch(t){return console.error("Login failed:",t),e({error:"登录失败，请重试",isLoading:!1}),!1}},logout:()=>{e({isAuthenticated:!1,username:null,error:null})},setLoading:t=>e({isLoading:t}),setError:t=>e({error:t})}),{name:"auth-storage",skipHydration:!1}))}},function(e){e.O(0,[90,575,3,297,123,971,938,744],function(){return e(e.s=9735)}),_N_E=e.O()}]);