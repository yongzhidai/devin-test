(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4096:function(e,t,n){Promise.resolve().then(n.t.bind(n,3385,23)),Promise.resolve().then(n.t.bind(n,9766,23)),Promise.resolve().then(n.bind(n,6135)),Promise.resolve().then(n.bind(n,651)),Promise.resolve().then(n.bind(n,367))},6135:function(e,t,n){"use strict";n.r(t),n.d(t,{AntdProvider:function(){return o}});var r=n(7437);n(2265);var s=n(3292),i=n(6169),l=n(5556),a=n(174);function o(e){let{children:t}=e;return(0,r.jsx)(s.ZP,{locale:a.Z,theme:{algorithm:i.Z.defaultAlgorithm,token:{colorPrimary:"#1677ff"},components:{Layout:{bodyBg:"#ffffff"}}},children:(0,r.jsx)(l.Z,{children:t})})}},651:function(e,t,n){"use strict";n.r(t),n.d(t,{ClientLayout:function(){return c},ClientProvider:function(){return u}});var r=n(7437),s=n(2265),i=n(4033),l=n(4222),a=n(8228),o=n(3424);function c(e){let{children:t}=e,n=(0,i.usePathname)(),c=(0,i.useRouter)(),u="/login"===n,{isAuthenticated:d,isLoading:h}=(0,a.t)(),[f,m]=(0,s.useState)(!1),[g,x]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{x(!0),m(!0)},[]),(0,s.useEffect)(()=>{g&&f&&!h&&(d||u?d&&u&&c.replace("/management"):c.replace("/login"))},[u,d,h,c,f,g]),g&&f&&!h)?u?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:t}):d?(0,r.jsx)(l.Z,{children:t}):null:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,r.jsx)(o.Z,{size:"large"})})}function u(e){let{children:t}=e;return(0,r.jsx)(c,{children:t})}},4222:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(7437),s=n(2265),i=n(4440),l=n(190),a=n(747),o=n(2372),c=n(7358),u=n(3582),d=n(7297),h=n(4033),f=n(8228);let{Header:m,Sider:g,Content:x}=i.default,b=[{key:"dashboard",icon:(0,r.jsx)(a.Z,{}),label:"仪表盘",children:[{key:"analysis",label:"分析页"},{key:"monitor",label:"监控页"}]},{key:"user",icon:(0,r.jsx)(o.Z,{}),label:"用户管理",children:[{key:"user-list",label:"用户列表"},{key:"user-groups",label:"用户组"}]},{key:"settings",icon:(0,r.jsx)(c.Z,{}),label:"系统设置",children:[{key:"general",label:"基本设置"},{key:"security",label:"安全设置"}]}];function j(e){let{children:t}=e,[n,a]=(0,s.useState)(!1),o=(0,h.useRouter)(),{username:c,logout:j}=(0,f.t)();return(0,r.jsxs)(i.default,{style:{minHeight:"100vh"},children:[(0,r.jsxs)(g,{trigger:null,collapsible:!0,collapsed:n,children:[(0,r.jsx)("div",{className:"p-4 h-16 flex items-center justify-center bg-white/10",children:(0,r.jsx)("h1",{className:"text-white text-lg font-bold truncate",children:n?"管理":"管理系统"})}),(0,r.jsx)(l.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["dashboard"],items:b,onClick:e=>{let{key:t}=e;"dashboard"===t?o.push("/management"):o.push("/management/".concat(t))}})]}),(0,r.jsxs)(i.default,{children:[(0,r.jsxs)(m,{className:"bg-white px-4 flex justify-between items-center",children:[(0,r.jsx)("button",{onClick:()=>{a(!n)},className:"text-lg hover:text-blue-500 transition-colors",children:n?(0,r.jsx)(u.Z,{}):(0,r.jsx)(d.Z,{})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("span",{children:["欢迎, ",c]}),(0,r.jsx)("button",{onClick:()=>{j(),o.replace("/login")},className:"text-red-500 hover:text-red-600 transition-colors",children:"退出"})]})]}),(0,r.jsx)(x,{className:"m-6 p-6 bg-white rounded-lg min-h-[280px]",children:t})]})]})}},367:function(e,t,n){"use strict";n.r(t);var r=n(7437),s=n(2265),i=n(5649),l=n(4033);t.default=e=>{let{children:t}=e,n=s.useMemo(()=>(0,i.Df)(),[]);return(0,l.useServerInsertedHTML)(()=>(0,r.jsx)("style",{id:"antd",dangerouslySetInnerHTML:{__html:(0,i.EN)(n,!0)}})),(0,r.jsx)(i.V9,{cache:n,children:t})}},8228:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(4660),s=n(4810);let i=(0,r.Ue)()((0,s.tJ)(e=>({isAuthenticated:!1,username:null,isLoading:!1,error:null,login:async(t,n)=>{e({isLoading:!0,error:null});try{if(t&&n)return e({isAuthenticated:!0,username:t,isLoading:!1}),!0;return e({error:"无效的用户名或密码",isLoading:!1}),!1}catch(t){return console.error("Login failed:",t),e({error:"登录失败，请重试",isLoading:!1}),!1}},logout:()=>{e({isAuthenticated:!1,username:null,error:null})},setLoading:t=>e({isLoading:t}),setError:t=>e({error:t})}),{name:"auth-storage",skipHydration:!1}))},3385:function(){}},function(e){e.O(0,[90,575,525,3,297,424,215,123,702,971,938,744],function(){return e(e.s=4096)}),_N_E=e.O()}]);