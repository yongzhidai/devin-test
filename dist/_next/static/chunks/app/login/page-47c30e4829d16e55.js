(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5523:function(e,r,s){Promise.resolve().then(s.bind(s,7149))},7149:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return f}});var n=s(7437),a=s(2265),i=s(5175),t=s(7237),l=s(5270),c=s(5941),o=s(2533),u=s(525),d=s(2372),m=s(3525),h=s(4033),g=s(8228);function x(){let e=(0,h.useRouter)(),r=(0,g.t)(e=>e.login),[s,x]=(0,a.useState)(!1),f=async s=>{x(!0);try{"admin"===s.username&&"admin123"===s.password?await r(s.username,s.password)?(i.ZP.success("登录成功"),e.push("/management")):i.ZP.error("登录失败，请重试"):i.ZP.error("用户名或密码错误")}catch(e){i.ZP.error("登录过程中发生错误"),console.error("Login error:",e)}finally{x(!1)}};return(0,n.jsx)(t.Z,{className:"w-full max-w-md shadow-lg",children:(0,n.jsxs)(l.Z,{direction:"vertical",size:"large",className:"w-full",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"管理系统"}),(0,n.jsx)("p",{className:"text-gray-500",children:"请登录您的账号"})]}),(0,n.jsxs)(c.Z,{name:"login",onFinish:f,className:"w-full",size:"large",layout:"vertical",children:[(0,n.jsx)(c.Z.Item,{name:"username",rules:[{required:!0,message:"请输入用户名"},{min:3,message:"用户名至少3个字符"}],children:(0,n.jsx)(o.Z,{prefix:(0,n.jsx)(d.Z,{className:"text-gray-400"}),placeholder:"用户名"})}),(0,n.jsx)(c.Z.Item,{name:"password",rules:[{required:!0,message:"请输入密码"},{min:6,message:"密码至少6个字符"}],children:(0,n.jsx)(o.Z.Password,{prefix:(0,n.jsx)(m.Z,{className:"text-gray-400"}),placeholder:"密码"})}),(0,n.jsx)(c.Z.Item,{className:"mb-0",children:(0,n.jsx)(u.ZP,{type:"primary",htmlType:"submit",block:!0,loading:s,children:"登录"})})]})]})})}function f(){return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(x,{})})})}},8228:function(e,r,s){"use strict";s.d(r,{t:function(){return i}});var n=s(4660),a=s(4810);let i=(0,n.Ue)()((0,a.tJ)(e=>({isAuthenticated:!1,username:null,isLoading:!1,error:null,login:async(r,s)=>{e({isLoading:!0,error:null});try{if(r&&s)return e({isAuthenticated:!0,username:r,isLoading:!1}),!0;return e({error:"无效的用户名或密码",isLoading:!1}),!1}catch(r){return console.error("Login failed:",r),e({error:"登录失败，请重试",isLoading:!1}),!1}},logout:()=>{e({isAuthenticated:!1,username:null,error:null})},setLoading:r=>e({isLoading:r}),setError:r=>e({error:r})}),{name:"auth-storage",skipHydration:!1}))}},function(e){e.O(0,[90,575,525,3,297,215,729,971,938,744],function(){return e(e.s=5523)}),_N_E=e.O()}]);